<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mini Gantt</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
<header class="header">
  <div class="wrap">
    <div class="title">
      <h1>Mini Gantt</h1>
      <div class="sub">Tasks, groups, dependencies, local save/load. Click a bar to edit.</div>
    </div>

    <div class="toolbar">
      <button class="btn primary" id="btnAddTask">â• Task</button>
      <button class="btn" id="btnAddGroup">ğŸ“ Group</button>

      <div class="chip">
        Zoom
        <select id="zoom">
          <option value="18">Compact</option>
          <option value="24" selected>Normal</option>
          <option value="32">Large</option>
        </select>
      </div>

      <div class="chip">
        Range
        <select id="range">
          <option value="auto" selected>Auto</option>
          <option value="30">30 days</option>
          <option value="60">60 days</option>
          <option value="90">90 days</option>
        </select>
      </div>

      <button class="btn" id="btnJumpToday">ğŸ¯ Today</button>

      <span class="divider"></span>

      <button class="btn" id="btnOpen">ğŸ“‚ Open</button>
      <button class="btn" id="btnSave">ğŸ’¾ Save</button>
      <button class="btn danger" id="btnSaveAs">ğŸ’¾ Save As</button>

      <span class="divider"></span>

      <button class="btn" id="btnToggleMenu">ğŸ™ˆ Hide menu</button>
      <button class="btn" id="btnToggleMenuSide">â†”ï¸ Move menu to left</button>
    </div>
  </div>
</header>

<button class="menuReveal" id="btnRevealMenu" aria-label="Show menu">â˜° Menu</button>

<main class="grid">
  <section class="card">
    <div class="cardTitle">Tasks</div>
    <div class="tableWrap">
      <table>
        <thead>
          <tr>
            <th style="width:52%;">Name</th>
            <th style="width:16%;">Type</th>
            <th style="width:16%;">Start</th>
            <th style="width:16%;">End</th>
          </tr>
        </thead>
        <tbody id="taskBody"></tbody>
      </table>
    </div>
    <div class="note">
      Groups can be collapsed. Dependencies are Finish-to-Start (successor starts after predecessor ends).
    </div>
  </section>

  <section class="card">
    <div class="cardTitle">Gantt</div>
    <div class="ganttWrap" id="ganttScroll">
      <div class="ganttInner">
        <svg id="ganttSvg"></svg>
      </div>
    </div>
  </section>
</main>

<!-- Modal -->
<div class="modalOverlay" id="modalOverlay" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modalHeader">
      <div>
        <div class="modalKicker" id="modalKicker">Task</div>
        <h2 id="modalTitle">Edit</h2>
      </div>
      <button class="btn" id="btnCloseModal">âœ•</button>
    </div>

    <div class="modalBody">
      <div class="formGrid">
        <label>
          <span>Name</span>
          <input id="fName" type="text" />
        </label>

        <label>
          <span>Type</span>
          <select id="fType">
            <option value="task">Task</option>
            <option value="group">Group</option>
          </select>
        </label>

        <label>
          <span>Parent Group</span>
          <select id="fParent"></select>
        </label>

        <label>
          <span>Dependencies (predecessors)</span>
          <select id="fDeps" multiple size="5"></select>
        </label>

        <label class="full">
          <span>Notes</span>
          <textarea id="fNotes" rows="4"></textarea>
        </label>

        <div class="full">
          <div class="rangeHeader">
            <div>
              <div class="rangeLabel">Date range</div>
              <div class="rangeValue" id="rangeValue">â€”</div>
            </div>
            <div class="rangeBtns">
              <button class="btn" id="btnClearRange">Clear range</button>
              <button class="btn" id="btnThisMonth">This month</button>
            </div>
          </div>

          <div class="calendarShell">
            <div class="calHead">
              <button class="btn" id="calPrev">â—€</button>
              <div class="calMonth" id="calMonthLabel">Month</div>
              <button class="btn" id="calNext">â–¶</button>
            </div>
            <div class="calGrid" id="calGrid"></div>
            <div class="calHint">Click once for <b>start</b>, click again for <b>end</b>. Third click resets to a new start.</div>
          </div>
        </div>
      </div>
    </div>

    <div class="modalFooter">
      <button class="btn danger" id="btnDelete">ğŸ—‘ Delete</button>
      <div class="spacer"></div>
      <button class="btn" id="btnCancel">Cancel</button>
      <button class="btn primary" id="btnApply">Apply</button>
    </div>
  </div>
</div>

<script type="module" src="./app.js"></script>
</body>
</html>
